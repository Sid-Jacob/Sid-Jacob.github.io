<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        GitPage初见 - Sid
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 在风花雪月里 想想破红尘 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        <div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img\profile.ico" />
        </div>
        <div class="name">
            <i>
                Sid
            </i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                        <a href="/">
                            <i class="iconfont icon-shouye1"></i>
                            <span>
                                主页
                            </span>
                        </a>
            </li>
            <li >
                        <a href="/tags">
                            <i class="iconfont icon-biaoqian1"></i>
                            <span>
                                标签
                            </span>
                        </a>
            </li>
            <li >
                        <a href="/categories">
                            <i class="iconfont icon-biaoqian1"></i>
                            <span>
                                分类
                            </span>
                        </a>
            </li>
            <li >
                        <a href="/archives">
                            <i class="iconfont icon-guidang2"></i>
                            <span>
                                存档
                            </span>
                        </a>
            </li>
            <li >
                        <a href="/about/">
                            <i class="iconfont icon-guanyu2"></i>
                            <span>
                                关于
                            </span>
                        </a>
            </li>
            
                <li>
                    <a id="search">
                        <i class="iconfont icon-sousuo1"></i>
                        <span>
                            搜索
                        </span>
                    </a>
                </li>
                
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAGitPage"><span class="toc-text">搭建GitPage</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%95%99%E7%A8%8B"><span class="toc-text">参考教程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-text">配置步骤</span></a></li></ol></li></ol></li></ol>
</div>
            
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input" />
            <span id="begin-search">
                搜索
            </span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 在风花雪月里 想想破红尘 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        <div class="post-container">
    <div class="post-title">
        GitPage初见
    </div>

    <div class="post-meta">
        <span class="attr">
            发布于：<span>
                    2021-10-12 08:29:32</span></span>
        
        <span class=" attr">
                        标签：/
                            
                                <a class="tag" href="/tags/#GitPage" title="GitPage">
                                    GitPage
                                </a>
                                <span>/</span>
                                
                                    
                </span>
                <span class="attr">
                    访问：<span id="busuanzi_value_page_pv"></span>
                </span>
        </span>
    </div>
    <div class="post-content ">
        <h3 id="搭建GitPage"><a href="#搭建GitPage" class="headerlink" title="搭建GitPage"></a>搭建GitPage</h3><hr>
<ol>
<li><h5 id="参考教程"><a href="#参考教程" class="headerlink" title="参考教程"></a>参考教程</h5></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/muzilanlan/article/details/81542917">Git Pages + Jekyll/Hexo搭建自己的博客</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhvon/p/5351043.html">hexo的环境搭建</a></p>
<hr>
<ol start="2">
<li><h5 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h5></li>
</ol>
<p>安装Node.js</p>
<p>Windows下用安装包安装Node.js，注意选中Add to Path，在命令行用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> %PATH%</span><br></pre></td></tr></table></figure>

<p>检查是否添加环境变量成功</p>
<p>安装Hexo</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>配置npm代理（失败）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> proxy http://127.0.0.1:7890</span><br><span class="line"></span><br><span class="line">npm config <span class="built_in">set</span> https-proxy http://127.0.0.1:7890</span><br></pre></td></tr></table></figure>

<p>换源+取消代理</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">npm config delete proxy</span><br><span class="line"></span><br><span class="line">npm config delete https-proxy</span><br></pre></td></tr></table></figure>

<p>用cnpm安装Hexo（成功）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>


<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211011233002637.png" class>


<p>进入Sid-Jacob.github.io文件夹</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p>（失败）</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211011235429217.png" class>

<p>可以看到clone成功，但insatll dependencies卡住，网络问题</p>
<p>使用npm install安装依赖（失败）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install</span><br></pre></td></tr></table></figure>

<p>（成功）</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/moyidou/p/15254076.html">关于hexo init过程中出现fail to install dependencies的解决</a><img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211011235808391.png" class></p>
<p>安装完后的目录结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>

<p>修改_config.yml进行配置</p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/configuration">https://hexo.io/zh-cn/docs/configuration</a></p>
<p><a target="_blank" rel="noopener" href="http://ijiaober.github.io/2014/08/05/hexo/hexo-04/">http://ijiaober.github.io/2014/08/05/hexo/hexo-04/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Category &amp; Tagdefault_category: uncategorizedcategory_map:	编程: programming	生活: life	其他: othertag_map:</span><br></pre></td></tr></table></figure>

<p>添加插件、主题</p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/plugins/">https://hexo.io/plugins/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/edolphin-ydf/hexo-encrypt">https://github.com/edolphin-ydf/hexo-encrypt</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/HCLonely/hexo-bilibili-bangumi">https://github.com/HCLonely/hexo-bilibili-bangumi</a></p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/themes/">https://hexo.io/themes/</a></p>
<p>添加主题</p>
<p><a target="_blank" rel="noopener" href="http://ijiaober.github.io/2014/08/05/hexo/hexo-06/">http://ijiaober.github.io/2014/08/05/hexo/hexo-06/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">https://github.com/aircloud/hexo-theme-aircloud</a></p>
<p>运行Hexo命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g <span class="comment">#hexo generate 生成$ hexo s #启动本地web服务器</span></span><br></pre></td></tr></table></figure>

<p>中途报错</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValidationError: `slug` is required!</span><br></pre></td></tr></table></figure>

<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012005202636.png" class>

<p>Google了一圈发现…</p>
<p><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues/1099">https://github.com/hexojs/hexo/issues/1099</a></p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012005032236.png" class title="width&#x3D;100%">

<p>之前改成了untitled.md，改回默认的title.md就不报错了。</p>
<p>启动Hexo</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012005353568.png" class>

<p>此时图片无法加载（将config里面语言改为zh，和theme里面一致，则home、tag、archive、about可根据theme配置显示为中文）</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012195022141.png" class>

<p>发现是图片的链接生成错误，手动修改链接后显示成功。</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012212716126.png" class>

<p>根据经验，hexo g命令根据theme的某个模板生成index等等页面的代码。查看目录结构，可以发现layout下面有页面的模板和partial页面模板，而该主题的用户头像在每个页面都会显示，故猜测其生成模板在partial目录下面。最终，在nav.ejs文件中找到对应位置。</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012212811606.png" class>


<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012213030439.png" class>

<p>根据其用法，可以猜测我们需要在config文件中添加root参数和sidebar-avatar参数，如下：</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012213134836.png" class>

<p>重新hexo clean &amp;&amp; hexo g &amp;&amp; hexo s，图片显示成功！</p>
<p>小bug：貌似hexo d上传不会检测同名文件，如将favicon.ico文件替换之后上传，favicon.ico并没有被替换，重命名后才检测到。(按道理应该是检测hash值有没有变化来决定是否更新文件)</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012213825868.png" class>

<p>部署到Gitpage上：在config里面设置，然后hexo d即可</p>
<img src="/2021/10/12/GitPage%E5%88%9D%E8%A7%81/10/12/GitPage%E5%88%9D%E8%A7%81/image-20211012214503181.png" class>


<p>（2021.10.12）</p>

            
                        <br />
                        <div id="comment-container">
                        </div>
                        <div id="disqus_thread"></div>

                        <div id="lv-container">
                        </div>

    </div>
</div>
    </div>
</div>

<footer class="footer">
    <ul class="list-inline text-center">
        
                

                        

                                

                                        

                                                

    </ul>
    
            <p>
                <span id="busuanzi_container_site_pv">
                    <span id="busuanzi_value_site_pv"></span>PV
                </span>
                <span id="busuanzi_container_site_uv">
                    <span id="busuanzi_value_site_uv"></span>UV
                </span>
                Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> Theme <a
                    target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a>
            </p>
</footer>

</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
